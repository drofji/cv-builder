<!--
  ==============================================================
                          CV Builder
  ==============================================================
  Author: Alexander Wiese
  Repository: https://github.com/drofji/cv-builder
  Version: 2026.02
  License: MIT
  Description: Intuitive, ATS-compliant CV/Resume Builder
               with live preview, PDF export, multi-language support
               and JSON import/export functionality.
  ==============================================================
  Note:
  - Keep this header intact for project attribution.
  - ATS-friendly design rules are applied throughout the builder.
  ==============================================================
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV BUILDER</title>
    <link href="https://drofji.github.io/cv-builder/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://drofji.github.io/cv-builder/css/cropper.min.css">
    <script src="https://drofji.github.io/cv-builder/js/cropper.min.js"></script>
    <script src="https://drofji.github.io/cv-builder/js/bootstrap.bundle.min.js"></script>
    <script src="https://drofji.github.io/cv-builder/js/html2pdf.bundle.min.js"></script>
    <script src="https://drofji.github.io/cv-builder/js/Sortable.min.js"></script>
    <link rel="stylesheet" href="https://drofji.github.io/cv-builder/css/style.min.css">
</head>
<body>
    <div id="ats-toast">‚ö†Ô∏è Character not allowed (ATS Safety)</div>

    <nav class="navbar px-3 py-2">
        <div class="container-fluid d-flex flex-column flex-lg-row gap-2 p-0">
            <div class="d-flex align-items-center justify-content-between w-100 order-mobile-1">
                <div class="d-flex align-items-center gap-2">
                    <span class="fw-bold text-nowrap d-none d-sm-inline">CV BUILDER</span>
                    <select id="cvSelect" class="form-select form-select-sm" style="min-width: 140px;" onchange="loadFromSelector()"></select>
                    <button class="btn btn-sm btn-outline-danger" onclick="deleteCurrent()">üóëÔ∏è</button>
                </div>
                <select id="uiLang" class="form-select form-select-sm w-auto" onchange="changeLang()">
                    <option value="en">English üá¨üáß</option>
                    <option value="de">Deutsch üá©üá™</option>
                </select>
            </div>
            <div class="d-flex align-items-center justify-content-between w-100 gap-2 order-mobile-2 border-top-mobile pt-mobile">
                <div class="d-flex gap-1 flex-grow-1">
                    <button class="btn btn-sm btn-outline-dark flex-fill" onclick="createNew()">üìÑNEW</button>
                    <label class="btn btn-sm btn-outline-dark m-0 flex-fill text-center" style="cursor: pointer;">
                        üì• IMPORT <input type="file" accept=".json" hidden onchange="handleImport(this)">
                    </label>
                </div>
                <div class="d-flex gap-1 flex-grow-1 justify-content-end">
                    <button class="btn btn-sm btn-primary fw-bold flex-fill" data-bs-toggle="offcanvas" data-bs-target="#designPanel">üé® DESIGN</button>
                    <button class="btn btn-sm btn-dark fw-bold flex-fill" data-bs-toggle="modal" data-bs-target="#exportModal">üíæ SAVE</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="main-container">
        <aside class="editor-side">
            <div class="editor-scroll-area">
                <h6 class="fw-bold text-uppercase small mb-3 text-muted" data-i18n="personalTitle">Personal Info</h6>
                <div class="row g-2 mb-2">
                    <div class="col-6">
                        <label class="small fw-bold text-muted mb-1">First Name</label>
                        <input type="text" id="firstName" class="form-control" placeholder="First Name" data-i18n-ph="phName" oninput="render()">
                    </div>
                    <div class="col-6">
                        <label class="small fw-bold text-muted mb-1">Last Name</label>
                        <input type="text" id="lastName" class="form-control" placeholder="Last Name" data-i18n-ph="phSurname" oninput="render()">
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label small fw-bold text-muted">Target Position / Vacancy <span class="ats-help" data-bs-toggle="tooltip" title="ATS Rule: Use the exact job title from the job description.">?</span></label>
                    <input type="text" id="targetJob" class="form-control" placeholder="e.g. Senior Software Engineer" oninput="render()">
                </div>
                <div class="mb-4">
                    <div class="d-flex gap-2 align-items-center">
                        <img id="photoThumb" class="mini-preview" src="">
                        <input type="file" id="photoInput" class="form-control form-control-sm" accept="image/*" onchange="initCropper(this)">
                        <button id="recropBtn" class="btn btn-sm btn-outline-secondary d-none" onclick="reCropCurrent()" data-i18n="recrop">Recrop</button>
                    </div>
                </div>

                <div class="d-flex justify-content-between mb-2 align-items-center">
                    <h6 class="fw-bold small m-0 text-muted" data-i18n="contacts">CONTACT INFORMATION</h6>
                    <button class="btn btn-sm p-0 text-primary" onclick="addContact()">+ <span data-i18n="add">Add</span></button>
                </div>
                <div id="contactInputs" class="mb-4 sortable-list"></div>

                <label class="form-label small fw-bold text-muted mb-1">Professional Summary <span class="ats-help" data-bs-toggle="tooltip" title="ATS Rule: Keep it under 4 lines. Focus on years of experience and key achievements. No first-person pronouns (I, me).">?</span></label>
                <textarea id="summary" class="form-control mb-4" rows="3" placeholder="Summary..." data-i18n-ph="phSummary" oninput="render()"></textarea>

                <div class="d-flex justify-content-between mb-2 align-items-center">
                    <h6 class="fw-bold small m-0 text-muted" data-i18n="skills">CORE COMPETENCIES</h6>
                    <span class="ats-help" data-bs-toggle="tooltip" title="ATS Rule: List specific hard skills. Avoid vague soft skills like 'Hard worker'.">?</span>
                    <button class="btn btn-sm p-0 text-primary ms-auto" onclick="addSkill()">+ <span data-i18n="add">Add</span></button>
                </div>
                <div id="skillsInputs" class="mb-4 sortable-list"></div>

                <div class="d-flex justify-content-between mb-2 align-items-center">
                    <h6 class="fw-bold small m-0 text-muted" data-i18n="experience">PROFESSIONAL EXPERIENCE</h6>
                    <span class="ats-help" data-bs-toggle="tooltip" title="ATS Rule: Use action verbs (Managed, Developed). Quantify results with numbers/percentages.">?</span>
                    <button class="btn btn-sm p-0 text-primary ms-auto" onclick="addEntry('expInputs')">+ <span data-i18n="add">Add</span></button>
                </div>
                <div id="expInputs" class="mb-4 sortable-list"></div>

                <div class="d-flex justify-content-between mb-2 align-items-center">
                    <h6 class="fw-bold small m-0 text-muted">PROJECTS</h6>
                    <span class="ats-help" data-bs-toggle="tooltip" title="ATS Rule: Highlight relevant projects that demonstrate the required skills.">?</span>
                    <button class="btn btn-sm p-0 text-primary ms-auto" onclick="addEntry('projInputs')">+ <span data-i18n="add">Add</span></button>
                </div>
                <div id="projInputs" class="mb-4 sortable-list"></div>

                <div class="d-flex justify-content-between mb-2 align-items-center">
                    <h6 class="fw-bold small m-0 text-muted" data-i18n="education">EDUCATION</h6>
                    <button class="btn btn-sm p-0 text-primary ms-auto" onclick="addEntry('eduInputs')">+ <span data-i18n="add">Add</span></button>
                </div>
                <div id="eduInputs" class="mb-4 sortable-list"></div>

                <div class="d-flex justify-content-between mb-2 align-items-center">
                    <h6 class="fw-bold small m-0 text-muted">CERTIFICATIONS</h6>
                    <button class="btn btn-sm p-0 text-primary ms-auto" onclick="addCertification()">+ <span data-i18n="add">Add</span></button>
                </div>
                <div id="certInputs" class="mb-3 sortable-list"></div>

            </div>
        </aside>

        <main class="preview-side">
            <div id="cv-pages-container"></div>
        </main>
    </div>

    <footer class="app-footer">
        <a href="https://github.com/drofji/cv-builder" target="_blank" style="display:inline-flex; align-items:center; gap:6px;">
            <svg height="16" width="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 0C3.58 0 0 3.58 0 8a8 8 0 0 0 5.47 7.59c.4.07.55-.17.55-.38
                0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13
                -.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87
                2.33.66.07-.52.28-.87.5-1.07-1.78-.2-3.64-.89-3.64-3.95
                0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21
                2.2.82a7.6 7.6 0 0 1 2-.27 7.6 7.6 0 0 1 2 .27c1.53-1.04
                2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82
                2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48
                0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8
                c0-4.42-3.58-8-8-8z"/>
            </svg>
            CV Builder <span id="footerYear"></span>
        </a>
    </footer>


    <div class="offcanvas offcanvas-end" id="designPanel">
        <div class="offcanvas-header border-bottom">
            <h6 class="offcanvas-title fw-bold">DESIGN SETTINGS</h6>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body">
            <h6 class="fw-bold small text-muted mb-2">PERSONAL INFO BLOCK</h6>
            <div class="form-check form-switch mb-1">
                <input class="form-check-input" type="checkbox" id="showPhoto" onchange="render()">
                <label class="form-check-label small" for="showPhoto">Enable Profile Photo</label>
            </div>
            <div class="alert alert-warning p-2 small mb-3" style="font-size: 0.8em; line-height: 1.2;">
                ‚ö†Ô∏è <strong>ATS Warning:</strong> Photos can cause parsing errors. Keep disabled for best results.
            </div>

            <hr>
            <h6 class="fw-bold small text-muted mb-2">DATE FORMAT</h6>
            <select id="dateOrder" class="form-select form-select-sm mb-2" onchange="render()">
                <option value="MY_TEXT">Month (Text) Year</option>
                <option value="MY_NUM">Month (Num) Year</option>
            </select>
            <select id="dateSep" class="form-select form-select-sm mb-3" onchange="render()">
                <option value="/">Separator: Slash (/)</option>
                <option value=" ">Separator: Space</option>
                <option value=".">Separator: Dot (.)</option>
                <option value="-">Separator: Dash (-)</option>
            </select>
            <hr>
            <div class="mb-2">
                <label class="small fw-bold">Text Size: <span id="fontSizeVal">10</span>pt</label>
                <input type="range" id="fontSize" class="form-range" min="10" max="12" step="0.5" value="10" oninput="document.getElementById('fontSizeVal').innerText=this.value; render()">
            </div>
            <div class="mb-2">
                <label class="small fw-bold">Header Size: <span id="headerSizeVal">14</span>pt</label>
                <input type="range" id="headerSize" class="form-range" min="14" max="16" step="0.5" value="14" oninput="document.getElementById('headerSizeVal').innerText=this.value; render()">
            </div>
            <div class="mb-2">
                <label class="small fw-bold">Photo Width: <span id="photoSizeVal">35</span>mm</label>
                <input type="range" id="photoSize" class="form-range" min="20" max="60" step="1" value="35" oninput="document.getElementById('photoSizeVal').innerText=this.value; render()">
            </div>
            <hr>
            <h6 class="fw-bold small text-muted mb-2">COLORS</h6>
            <div class="mb-3">
                <label class="small fw-bold mb-1" data-i18n="accentLabel">Accent Color</label>
                <select id="accentColor" class="form-select form-select-sm" onchange="render()">
                    <option value="#000000" data-i18n="colors.black">‚¨õ Black</option>
                    <option value="#1a1a1a" data-i18n="colors.dGraphite">‚¨õ Deep Graphite</option>
                    <option value="#333333" data-i18n="colors.graphite" selected>‚¨õ Graphite</option>
                    <option value="#4a4a4a" data-i18n="colors.dGrey">üîò Dark Grey</option>
                    <option value="#757575" data-i18n="colors.grey">üîò Grey</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="small fw-bold mb-1" data-i18n="textLabel">Text Color</label>
                <select id="textColor" class="form-select form-select-sm" onchange="render()">
                    <option value="#000000" data-i18n="colors.black">‚¨õ Black</option>
                    <option value="#222222" data-i18n="colors.dGraphite">‚¨õ Deep Graphite</option>
                    <option value="#333333" data-i18n="colors.graphite" selected>‚¨õ Graphite</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="small fw-bold mb-1" data-i18n="bgLabel">Header Background</label>
                <select id="headerBgColor" class="form-select form-select-sm" onchange="render()">
                    <option value="#ffffff" data-i18n="colors.white" selected>‚¨ú White</option>
                    <option value="#f8f9fa" data-i18n="colors.offWhite">‚¨ú Off-White</option>
                    <option value="#e9ecef" data-i18n="colors.fog">‚òÅÔ∏è Light Fog</option>
                    <option value="#e3f2fd" data-i18n="colors.pBlue">üîπ Pastel Blue</option>
                    <option value="#f1f8e9" data-i18n="colors.pGreen">üåø Pastel Green</option>
                    <option value="#fff8e1" data-i18n="colors.pSand">‚è≥ Pastel Sand</option>
                </select>
            </div>
        </div>
    </div>

    <div class="modal fade" id="exportModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-sm">
            <div class="modal-content border-0">
                <div class="modal-header"><h6 class="modal-title fw-bold">EXPORT</h6><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
                <div class="modal-body d-grid gap-2">
                    <button class="btn btn-success fw-bold" onclick="exportPDF()">PDF</button>
                    <button class="btn btn-outline-dark" onclick="exportJSON()">JSON</button>
                </div>
            </div>
        </div>
    </div>

    <div id="ghost-render" style="position: absolute; top: -9999px; width: 170mm; visibility: hidden; pointer-events: none;"></div>

    <div class="modal fade" id="cropModal" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content border-0 bg-dark text-white">
                <div class="modal-body p-0" style="height: 500px;"><img id="image-to-crop" style="display: block; max-width: 100%;"></div>
                <div class="modal-footer border-0">
                    <button class="btn btn-outline-light" data-bs-dismiss="modal">Cancel</button>
                    <button class="btn btn-primary px-4" onclick="applyCrop()">OK</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="githubModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-sm">
            <div class="modal-content text-center p-3">

                <div class="mb-2">
                    <svg height="40" width="40" viewBox="0 0 16 16" fill="black">
                        <path d="M8 0C3.58 0 0 3.58 0 8a8 8 0 0 0 5.47 7.59c.4.07.55-.17.55-.38
                        0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13
                        -.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87
                        2.33.66.07-.52.28-.87.5-1.07-1.78-.2-3.64-.89-3.64-3.95
                        0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21
                        2.2.82a7.6 7.6 0 0 1 2-.27 7.6 7.6 0 0 1 2 .27c1.53-1.04
                        2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82
                        2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48
                        0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8
                        c0-4.42-3.58-8-8-8z"/>
                    </svg>
                </div>

                <h6 class="fw-bold" id="ghTitle"></h6>
                <p style="font-size:14px;" id="ghText"></p>


                <a href="https://github.com/drofji/cv-builder"
                   target="_blank"
                   class="btn btn-dark mb-2"
                   id="ghStarBtn"></a>

                <button class="btn btn-outline-secondary mb-2"
                        data-bs-dismiss="modal"
                        id="ghLaterBtn"></button>

                <button class="btn btn-outline-danger"
                        onclick="disableGithubPopup()"
                        id="ghHideBtn"></button>


            </div>
        </div>
    </div>
    <script src="https://drofji.github.io/cv-builder/js/main.min.js"></script>
</body>
</html>
